<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Software Documentation &mdash; WoPMaRS 1.1.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="WoPMaRS 1.1.1 documentation" href="index.html" />
    <link rel="prev" title="ToolWrapper development" href="dev_wrapper.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="software-documentation">
<h1>Software Documentation<a class="headerlink" href="#software-documentation" title="Permalink to this headline">¶</a></h1>
<p>This manual is dedicated to the developers who want to improve <strong>WoPMaRS</strong> by adding new features or correcting bugs.</p>
<div class="section" id="setting-up-wopmars-development-environment">
<h2>Setting up WoPMaRS development environment<a class="headerlink" href="#setting-up-wopmars-development-environment" title="Permalink to this headline">¶</a></h2>
<p>Once you have downloaded <strong>WoPMaRS</strong> from git, you should want to process the <cite>unittests</cite> in order to make sure that everything is ok.</p>
<p>First, install the dependencies from the <code class="docutils literal"><span class="pre">requirements.txt</span></code> file in your virtual environment.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
<p>Some modules should be accessible to your python interpreter in order to perform the tests. The called modules are the test <cite>ToolWrappers</cite> and <cite>Models</cite>. You should then add their location to the python path:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;/ThePathToWopmarsSourceFolder/wopmars/test/tagc/base&quot;</span>
<span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PYTHONPATH</span><span class="s2">:/ThePathToWopmarsSourceFolder/wopmars/test/tagc/toolwrappers&quot;</span>
</pre></div>
</div>
<p>You are now ready to perform unittests then stay in the source folder and run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python3 -m unittest discover
</pre></div>
</div>
<p>And the tests should start and be ok. You are now ready to start improving <strong>WoPMaRS</strong></p>
</div>
<div class="section" id="contributing-to-wopmars-documentation">
<h2>Contributing to WoPMaRS documentation<a class="headerlink" href="#contributing-to-wopmars-documentation" title="Permalink to this headline">¶</a></h2>
<p>The WoPMaRS documentation has been done thanks to <a class="reference external" href="http://www.sphinx-doc.org/en/stable/">Sphinx</a>. The documentation has been written according to the <a class="reference external" href="http://docutils.sourceforge.net/rst.html">rST format</a>. There is two type of documentation in <strong>WoPMaRS</strong>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">docstring</span></code> in the source code</li>
<li>rST files in the <code class="docutils literal"><span class="pre">docs</span></code> folder. Images are stored under the <code class="docutils literal"><span class="pre">docs/images</span></code> folder.</li>
</ul>
<p>To build the <code class="docutils literal"><span class="pre">html</span></code> documentation, go in the <code class="docutils literal"><span class="pre">docs</span></code> folder and type the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>make html
</pre></div>
</div>
<p>The result will be stored in the <code class="docutils literal"><span class="pre">docs/_build/html</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to see what other format are available with Sphinx, you can look at the <code class="docutils literal"><span class="pre">Makefile</span></code>. There is an help section but only html has been tested.</p>
</div>
</div>
<div class="section" id="sub-packages-descriptions">
<h2>Sub-packages descriptions<a class="headerlink" href="#sub-packages-descriptions" title="Permalink to this headline">¶</a></h2>
<p>In this section, we will see what are the main sub-packages / folders of <strong>WoPMaRS</strong> and what is inside.</p>
<div class="section" id="bin">
<h3>bin<a class="headerlink" href="#bin" title="Permalink to this headline">¶</a></h3>
<p>Basically, the executable of <strong>WoPMaRS</strong> if you want to run <code class="docutils literal"><span class="pre">wopmars</span></code>, <code class="docutils literal"><span class="pre">bin/wopmars</span></code> is the file you should execute.</p>
</div>
<div class="section" id="docs">
<h3>docs<a class="headerlink" href="#docs" title="Permalink to this headline">¶</a></h3>
<p>This is the folder containing the <strong>WoPMaRS</strong> documentation, written in rst. This folder contains an <code class="docutils literal"><span class="pre">images</span></code> folder which contains graphs and images used for the documentation.</p>
</div>
<div class="section" id="wopmars">
<h3>wopmars<a class="headerlink" href="#wopmars" title="Permalink to this headline">¶</a></h3>
<p>The sources of the project are stored here. There is three sub-directories which have self-explaining names. The <code class="docutils literal"><span class="pre">main</span></code> sub-package contains the actual sources of <strong>WoPMaRS</strong> whereas the <code class="docutils literal"><span class="pre">test</span></code> one contains functional and unit tests. Both hierarchies of files follow the same pattern.</p>
<div class="section" id="wopmars-tagc-example">
<h4>wopmars.tagc.example<a class="headerlink" href="#wopmars-tagc-example" title="Permalink to this headline">¶</a></h4>
<p>This package contains the examples for <strong>WoPMaRS</strong>. They are ready to use examples necessary for the tutorial.</p>
</div>
<div class="section" id="wopmars-tagc-framework">
<h4>wopmars.tagc.framework<a class="headerlink" href="#wopmars-tagc-framework" title="Permalink to this headline">¶</a></h4>
<p>The main classes involved in <strong>WoPMaRS</strong> are stored here. They are spliited into three categories.</p>
<div class="section" id="wopmars-tagc-framework-bdd">
<h5>wopmars.tagc.framework.bdd<a class="headerlink" href="#wopmars-tagc-framework-bdd" title="Permalink to this headline">¶</a></h5>
<p>All the processing related to the database is done here. Every objects that should exist in order to work with the database is stored here:
the <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager" title="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager"><code class="xref py py-class docutils literal"><span class="pre">SQLManager</span></code></a> which is used to perform synchronized operations against the database, the <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession" title="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession"><code class="xref py py-class docutils literal"><span class="pre">WopMarsSession</span></code></a> which is used to bind the Toolwrappers to the database,  the <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.WopMarsQuery.WopMarsQuery" title="wopmars.main.tagc.framework.bdd.WopMarsQuery.WopMarsQuery"><code class="xref py py-class docutils literal"><span class="pre">WopMarsQuery</span></code></a> which is used to create queries that use the WopMaRS machinery There is a package <code class="docutils literal"><span class="pre">tables</span></code> which contains the models related to the <a class="reference internal" href="#history">history</a> of <strong>WoPMaRS</strong>. Among them, the <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a> class.</p>
</div>
<div class="section" id="wopmars-tagc-framework-management">
<h5>wopmars.tagc.framework.management<a class="headerlink" href="#wopmars-tagc-framework-management" title="Permalink to this headline">¶</a></h5>
<p>Here are the classes involved in the actual management of the workflow. Which means the building of the <a class="reference internal" href="#wopmars.main.tagc.framework.management.DAG.DAG" title="wopmars.main.tagc.framework.management.DAG.DAG"><code class="xref py py-class docutils literal"><span class="pre">DAG</span></code></a> and the walk through it thanks to the <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager"><code class="xref py py-class docutils literal"><span class="pre">WorkflowManager</span></code></a>. Also, the class responsible of the actual execution of the ToolWrappers, <a class="reference internal" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread" title="wopmars.main.tagc.framework.management.ToolThread.ToolThread"><code class="xref py py-class docutils literal"><span class="pre">ToolThread</span></code></a> is stored here.</p>
</div>
<div class="section" id="wopmars-tagc-framework-parsing">
<h5>wopmars.tagc.framework.parsing<a class="headerlink" href="#wopmars-tagc-framework-parsing" title="Permalink to this headline">¶</a></h5>
<p>Here are the classes involved in the parsing of the workflow definition file. Among them, the <a class="reference internal" href="#wopmars.main.tagc.framework.parsing.Parser.Parser" title="wopmars.main.tagc.framework.parsing.Parser.Parser"><code class="xref py py-class docutils literal"><span class="pre">Parser</span></code></a> is a pivot between the <a class="reference internal" href="#wopmars.main.tagc.framework.parsing.Reader.Reader" title="wopmars.main.tagc.framework.parsing.Reader.Reader"><code class="xref py py-class docutils literal"><span class="pre">Reader</span></code></a> and the core functioning of <strong>WoPMaRS</strong>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="the-history-of-wopmars-executions">
<span id="history"></span><h2>The history of WoPMaRS executions<a class="headerlink" href="#the-history-of-wopmars-executions" title="Permalink to this headline">¶</a></h2>
<p><strong>WoPMaRS</strong> keeps track of what has been done thanks to an history stored in database with the prefix <code class="docutils literal"><span class="pre">wom</span></code> in table names.</p>
<p>Numerous calls to those tables are done during all the process of the parsing of the definition file and the building of the execution DAG.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The execution DAG is the directed acyclic graph representing the workflow about to be executed</p>
</div>
<p>Here is a list of the tables used for history. All of the associated models are stored under <code class="docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables</span></code>. If you want more informations about the models themselves, you should follow the links to get the code documentation:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">wom_execution</span></code> represented by the model <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Execution.Execution" title="wopmars.main.tagc.framework.bdd.tables.Execution.Execution"><code class="xref py py-class docutils literal"><span class="pre">Execution</span></code></a></li>
<li><code class="docutils literal"><span class="pre">wom_rule</span></code> represented by the model <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a></li>
<li><code class="docutils literal"><span class="pre">wom_type</span></code> represented by the model <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Type.Type" title="wopmars.main.tagc.framework.bdd.tables.Type.Type"><code class="xref py py-class docutils literal"><span class="pre">Type</span></code></a></li>
<li><code class="docutils literal"><span class="pre">wom_file</span></code> represented by the model <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.IOFilePut.IOFilePut" title="wopmars.main.tagc.framework.bdd.tables.IOFilePut.IOFilePut"><code class="xref py py-class docutils literal"><span class="pre">IOFilePut</span></code></a></li>
<li><code class="docutils literal"><span class="pre">wom_table</span></code> represented by the model <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut" title="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut"><code class="xref py py-class docutils literal"><span class="pre">IODbPut</span></code></a></li>
<li><code class="docutils literal"><span class="pre">wom_modification_table</span></code> represented by the model <code class="xref py py-class docutils literal"><span class="pre">ModificationTable</span></code></li>
<li><code class="docutils literal"><span class="pre">wom_option</span></code> represented by the model <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Option.Option" title="wopmars.main.tagc.framework.bdd.tables.Option.Option"><code class="xref py py-class docutils literal"><span class="pre">Option</span></code></a></li>
</ul>
<div class="figure align-center" id="id1">
<img alt="_images/mcd.png" src="_images/mcd.png" />
<p class="caption"><span class="caption-text"><em>Here is a detailed entity-relationship model of the history in the database</em></span></p>
</div>
</div>
<div class="section" id="building-the-execution-dag">
<h2>Building the execution DAG<a class="headerlink" href="#building-the-execution-dag" title="Permalink to this headline">¶</a></h2>
<p>The workflow DAG is built from the workflow definition file. However, there is a post treatment of the workflow DAG to get only the rules that the user wants to execute.</p>
<p>The class responsible of the parsing of the workflow definition file (and the <code class="docutils literal"><span class="pre">tool</span></code> command) is <a class="reference internal" href="#wopmars.main.tagc.framework.parsing.Reader.Reader" title="wopmars.main.tagc.framework.parsing.Reader.Reader"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.parsing.Reader.Reader</span></code></a>. The class <a class="reference internal" href="#wopmars.main.tagc.framework.parsing.Reader.Reader" title="wopmars.main.tagc.framework.parsing.Reader.Reader"><code class="xref py py-class docutils literal"><span class="pre">Reader</span></code></a> aims to fill the database with the informations relatives to the workflow.</p>
<p>Once all informations regarding the workflow definition file have been stored in the database, the options <code class="docutils literal"><span class="pre">--targetrule</span></code> and <code class="docutils literal"><span class="pre">--sourcerule</span></code> are parsed in order to get only the rules that are intended to be executed by the user (see <a class="reference external" href="use.html#options-and-arguments">Options and Arguments</a> of WoPMaRS).</p>
<p>To build the DAG itself, a class <a class="reference internal" href="#wopmars.main.tagc.framework.management.DAG.DAG" title="wopmars.main.tagc.framework.management.DAG.DAG"><code class="xref py py-class docutils literal"><span class="pre">DAG</span></code></a> which inherit from <code class="docutils literal"><span class="pre">networkx.DiGraph</span></code> has been written. This class takes a set of nodes as argument and build itself by determining which nodes are following which others. Since the nodes are actually <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>, a node follows an other node if one output of the former is in the list of inputs of the last. This information is given by the method <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.follows" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.follows"><code class="xref py py-meth docutils literal"><span class="pre">follows()</span></code></a> of <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>.</p>
</div>
<div class="section" id="executing-the-dag">
<h2>Executing the DAG<a class="headerlink" href="#executing-the-dag" title="Permalink to this headline">¶</a></h2>
<p>It is the <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager"><code class="xref py py-class docutils literal"><span class="pre">WorkflowManager</span></code></a> which is responsible of executing the DAG. The main methods of this class are <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.run_queue" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.run_queue"><code class="xref py py-meth docutils literal"><span class="pre">run_queue()</span></code></a> and <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from"><code class="xref py py-meth docutils literal"><span class="pre">execute_from()</span></code></a>. Basically, <code class="docutils literal"><span class="pre">execute_from</span></code> fill the queue with the <cite>Toolwrappers</cite> that should be executed soon and <code class="docutils literal"><span class="pre">run_queue</span></code> actually execute the queue after performing some tests on the inputs of the <cite>Toolwrappers</cite>.</p>
</div>
<div class="section" id="managing-the-database">
<h2>Managing the DataBase<a class="headerlink" href="#managing-the-database" title="Permalink to this headline">¶</a></h2>
<p>The main class responsible of managing the database is the <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager" title="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager"><code class="xref py py-class docutils literal"><span class="pre">SQLManager</span></code></a>. This class is represented in <strong>WoPMaRS</strong> as a synchronized <a class="reference internal" href="#wopmars.main.tagc.utils.Singleton.SingletonMixin" title="wopmars.main.tagc.utils.Singleton.SingletonMixin"><code class="xref py py-class docutils literal"><span class="pre">SingletonMixin</span></code></a>. To access the Singleton instance, all you need to to is <code class="docutils literal"><span class="pre">SQLManager.instance()</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A singleton, as described in the <cite>Wikipedia article &lt;https://en.wikipedia.org/wiki/Singleton_pattern&gt;_</cite> is a design pattern which allows to access anywhere and at anytime to the same instance of a given class. In our case, this is important because the SQLManager is the object which actually access the database and this needs to be synchronized.</p>
</div>
<p>The constructor of the <code class="docutils literal"><span class="pre">SQLManager</span></code> create the actual database and enable the foreign key support (<a class="reference external" href="https://www.sqlite.org/foreignkeys.html#fk_enable">https://www.sqlite.org/foreignkeys.html#fk_enable</a>) in order to let the user benefit from this constraint.</p>
<p>To get a <code class="xref py py-class docutils literal"><span class="pre">WopMarsSession</span></code> associated with this SQLManager, you just need to call <code class="xref py py-meth docutils literal"><span class="pre">get_session()`()</span></code> and you can use the session anywhere, in any thread and at any time. Everything is already synchronized.</p>
<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.utils.exceptions.WopMarsException.WopMarsException">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.utils.exceptions.WopMarsException.</code><code class="descname">WopMarsException</code><span class="sig-paren">(</span><em>context=''</em>, <em>message=''</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.utils.exceptions.WopMarsException.WopMarsException" title="Permalink to this definition">¶</a></dt>
<dd><p>WopMarsException inherit from Exception and is thrown by every part of the .</p>
<p>This exception is thrown with a context and a message. The context is supposed to explain where the exception has
occured while the message gives more specific details about the exception.</p>
</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.tables.Execution.Execution">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.tables.Execution.</code><code class="descname">Execution</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.Execution.Execution" title="Permalink to this definition">¶</a></dt>
<dd><p>The execution table is a counter of the executions. It allows to discriminate one execution from one other.</p>
<p>If 2 executions are exactly the same, they will be both stocked in the database with different execution ids.
The table <code class="docutils literal"><span class="pre">wom_execution</span></code> contains the following fields:</p>
<ul>
<li><p class="first">id: INTEGRE: primary key - auto increment - arbitrary iD</p>
</li>
<li><p class="first">started_at: DATE - date at wich the execution started</p>
</li>
<li><p class="first">finished_at: DATE - date at wich the execution finished</p>
</li>
<li><p class="first">time: FLOAT - the total time of execution</p>
</li>
<li><p class="first">status: VARCHAR(255) - the final status of the Execution. it can be:</p>
<blockquote>
<div><ul class="simple">
<li>SUCCESS</li>
<li>ERROR</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.tables.ToolWrapper.</code><code class="descname">ToolWrapper</code><span class="sig-paren">(</span><em>rule_name=''</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>The class ToolWrapper is the superclass of the wrappers which will be designed by the wrapper developers. It is the
SQLAlchemy Model of the table <code class="docutils literal"><span class="pre">wom_rule</span></code> with the following fields:</p>
<ul>
<li><p class="first">id: INTEGER - primary_key - auto increment - arbitrary ID</p>
</li>
<li><p class="first">name: VARCHAR(255) - the name of the rule</p>
</li>
<li><p class="first">toolwrapper: VARCHAR(255) - the name of the Toolwrapper</p>
</li>
<li><p class="first">execution_id: INTEGER - foreign key to the table <code class="docutils literal"><span class="pre">wom_execution</span></code> - the associated execution</p>
</li>
<li><p class="first">started_at: DATE - date at wich the toolwrapper started its execution</p>
</li>
<li><p class="first">finished_at: DATE - date at wich the toolwrapper finished its execution</p>
</li>
<li><p class="first">time: FLOAT - the total time toolwrapper execution</p>
</li>
<li><p class="first">status: VARCHAR(255) - the final status of the Toolwrapper. it can be:</p>
<blockquote>
<div><ul class="simple">
<li>NOT PLANNED: the toolwrapper execution wasn't evene xpected by the user</li>
<li>ALREADY EXECUTED: the toolwrapper has been previously executed in an old workflow and doesn't need to be re-executed</li>
<li>EXECUTED: the toolwrapper has been executed</li>
<li>EXECUTION_ERROR: the toolwrapper has encountered an error during the execution</li>
</ul>
</div></blockquote>
</li>
</ul>
<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.are_inputs_ready">
<code class="descname">are_inputs_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.are_inputs_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if inputs are ready</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool - True if inputs are ready.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.does_output_exist">
<code class="descname">does_output_exist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.does_output_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the output of the ToolWrapper exists.</p>
<p>For files, it means that the file exists on the system.
For tables, it means that the table is not empty.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Bool: True if outputs exist.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.follows">
<code class="descname">follows</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.follows" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing method:</p>
<p>Check whether the &quot;self&quot; follows directly &quot;other&quot; in the execution DAG.</p>
<p>Check whether &quot;other&quot; has one output value in &quot;self&quot; possible input values.
The output value are given from the Relationnal mapping between toolwrappers and related objects:
* IODbPut
* IOFilePut</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> -- ToolWrapper that is possibly a predecessor of &quot;self&quot;</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool True if &quot;self&quot; follows &quot;other&quot;</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.input_file">
<code class="descname">input_file</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.input_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path of the specified input file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> -- String the name of the variable containing the path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.input_table">
<code class="descname">input_table</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.input_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the input table object of the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> -- String: the name of the Table object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_content_respected">
<code class="descname">is_content_respected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_content_respected" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing method:</p>
<p>This method checks if the parameters dictionary are properly formed, according to the specifications of the
wrapper developer.</p>
<p>Call of the methods &quot;is_options_respected&quot;, &quot;is_input_respected&quot; and &quot;is_output_respected&quot;</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_input_respected">
<code class="descname">is_input_respected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_input_respected" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing method:</p>
<p>Check if the input files associated with the toolwrapper are ok according to the toolwrapper developer.</p>
<p>It checks if the output variable names exists or not. If not, throws a WopMarsParsingException.</p>
<p>This method calls the &quot;specify_input_file&quot; method which have been written by the toolwrapper developer. Since the
options are checked first, the developer can write a conditional behavior depending on the options given for
the toolwrapper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- The input are not respected by the user.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_options_respected">
<code class="descname">is_options_respected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_options_respected" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing method:</p>
<p>This method check if the params given in the constructor are properly formed for the tool.</p>
<p>It checks if the params names given by the user exists or not, if the type correspond and if the required
options are given. If not, throws a WopMarsParsingException.</p>
<p>This method calls the &quot;specify_params&quot; method of the toolwrapper. This method should return a dictionnary
associating the name of the option with a String containing the types allowed with it. A &quot;|&quot; is used between
each types allowed for one option.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;option1&#39;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
    <span class="s1">&#39;option2&#39;</span><span class="p">:</span> <span class="s2">&quot;required|str&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- If the params names and types are not respected by the user.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_output_more_recent_than_input">
<code class="descname">is_output_more_recent_than_input</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_output_more_recent_than_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for files and tables if the outputs are more recent than inputs.</p>
<p>In a conventionnal use of WoPMaRS, the output are supposed to be younger than the inputs. If they are not,
we can consider that the input has changed since the last execution and the output has to be re-written.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Bool: True if the output is actually more recent than input</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_output_respected">
<code class="descname">is_output_respected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.is_output_respected" title="Permalink to this definition">¶</a></dt>
<dd><p>Parsing method:</p>
<p>Check if the output dictionary given in the constructor is properly formed for the tool.</p>
<p>It checks if the output variable names exists or not. If not, throws a WopMarsParsingException.</p>
<p>This method calls the &quot;specify_output_file&quot; method which have been written by the toolwrapper developer. Since the
options are checked first, the developer can write a conditional behavior depending on the options given for
the toolwrapper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- The output are not respected by the user.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.output_file">
<code class="descname">output_file</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.output_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path of the specified output file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> -- String the name of the variable containing the path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.output_table">
<code class="descname">output_table</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.output_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the output table object of the given name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> -- String: the name of the Table object.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_files">
<code class="descname">same_files</code><span class="sig-paren">(</span><em>other</em>, <em>type_name</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the files of a ToolWrapper are the same than the files of the other for a given type (input or output).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><em>ToolWrapper</em></a>) -- ToolWrapper with which you need to compare</li>
<li><strong>type_name</strong> (<em>str</em>) -- The name of the type of file (input or output)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Bool: True if the files are the same</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_input_than">
<code class="descname">same_input_than</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_input_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Never used.</p>
<p>Check if the other ToolWrapper have the same input than self.</p>
<dl class="docutils">
<dt>The input are say &quot;the same&quot; if:</dt>
<dd><ul class="first last simple">
<li>The table have the same name and the same last modifcation datetime</li>
<li>The file have the same name, the same lastm mdoficiation datetime and the same size</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>) -- an other Toolwrapper which maybe as the same inputs</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_options">
<code class="descname">same_options</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the options of a ToolWrapper are the same the options of the other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><em>ToolWrapper</em></a>) -- ToolWrapper with which you need to compare.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Bool: True if the options are the same.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_output_than">
<code class="descname">same_output_than</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_output_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Never used.</p>
<p>Check if the output of self is the same than other.</p>
<p>Checks only if the file names, table names and models are the same.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_tables">
<code class="descname">same_tables</code><span class="sig-paren">(</span><em>other</em>, <em>type_name</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.same_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the tables of a ToolWrapper are the same than the tables of the other for a given type (input or output).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>other</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><em>ToolWrapper</em></a>) -- ToolWrapper with which you need to compare</li>
<li><strong>type_name</strong> (<em>str</em>) -- The name of the type of table (input or output)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Bool: True if the tables are the same</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.set_args_date_and_size">
<code class="descname">set_args_date_and_size</code><span class="sig-paren">(</span><em>type</em>, <em>dry=False</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.set_args_date_and_size" title="Permalink to this definition">¶</a></dt>
<dd><p>WorkflowManager method:</p>
<p>The date and the size of the files are set according to the actual date of last modification and size of the system files</p>
<p>The date of the tables are set according to the date of last modification notified in the modification_table table
If the type of IOPut is &quot;output&quot; and the execution is &quot;not dry&quot;, the date in modification_table is set to the
current time.time() datetime.</p>
<p># todo modify it to take commits into account isntead of the status of 'output' of a table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> (<em>str</em>) -- &quot;input&quot; or &quot;output&quot;</li>
<li><strong>dry</strong> (<em>bool</em>) -- Say if the execution has been simulated.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.set_execution_infos">
<code class="descname">set_execution_infos</code><span class="sig-paren">(</span><em>start=None</em>, <em>stop=None</em>, <em>status=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper.set_execution_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic method to set the informations relatives to the execution of the ToolWrapper.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> -- The date of start of the Toolwrapper</li>
<li><strong>stop</strong> -- The date of end of the Toolwrapper</li>
<li><strong>status</strong> -- The status of the Toolwrapper</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.tables.IOFilePut.IOFilePut">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.tables.IOFilePut.</code><code class="descname">IOFilePut</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IOFilePut.IOFilePut" title="Permalink to this definition">¶</a></dt>
<dd><p>This class extends IOPut and is specific to the input or output files. It is the model which store the references
to the actual files needed by the user. The table <code class="docutils literal"><span class="pre">wom_file</span></code> associated with this model contains the
following fields:</p>
<ul class="simple">
<li>id: INTEGER - primary key - autoincrement - arbitrary ID</li>
<li>name: VARCHAR(255) - the name of the reference to the file</li>
<li>path: VARCHAR(255) - the path to the file</li>
<li>rule_id: INTEGER - foreign key to the associated rule ID: <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper</span></code></a></li>
<li>type_id: INTEGER - foreign key to the associated type ID: <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Type.Type" title="wopmars.main.tagc.framework.bdd.tables.Type.Type"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.Type.Type</span></code></a></li>
<li>used_at: DATE - date at which the table have been used</li>
<li>size: INTEGER - the size of the file</li>
</ul>
<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.IOFilePut.IOFilePut.is_ready">
<code class="descname">is_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IOFilePut.IOFilePut.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the file exists on the system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean: True if it exists, false if not</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.tables.IODbPut.</code><code class="descname">IODbPut</code><span class="sig-paren">(</span><em>model</em>, <em>tablename</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut" title="Permalink to this definition">¶</a></dt>
<dd><p>This class extends IOPut and is specific to the input or output tables. It is the model which store the references
to the actual tables needed by the user. The table <code class="docutils literal"><span class="pre">wom_table</span></code> associated with this model contains the
following fields:</p>
<ul class="simple">
<li>id: INTEGER - primary key - autoincrement - arbitrary ID</li>
<li>tablename: VARCHAR(255) - foreign key to the associated table: <code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.ModificationTable.ModificationTable</span></code> - the name of the referenced table</li>
<li>model: VARCHAR(255) - the path to the model (in python notation)</li>
<li>rule_id: INTEGER - foreign key to the associated rule ID: <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper</span></code></a></li>
<li>type_id: INTEGER - foreign key to the associated type ID: <a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Type.Type" title="wopmars.main.tagc.framework.bdd.tables.Type.Type"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.Type.Type</span></code></a></li>
<li>used_at: DATE - date at which the table have been used</li>
</ul>
<dl class="staticmethod">
<dt id="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.get_execution_tables">
<em class="property">static </em><code class="descname">get_execution_tables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.get_execution_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the IODbPut objects found in model IODbPut.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ResultSet IODbPut objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.import_models">
<em class="property">static </em><code class="descname">import_models</code><span class="sig-paren">(</span><em>model_names</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.import_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Import all the given models</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>model_names</strong> (<em>Iterable(String)</em>) -- The path to the models</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.init_on_load">
<code class="descname">init_on_load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.init_on_load" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used by SQLAlchemy to regenerate the right object when loading it from the database. Here, we need to
get back the actual Model from the model name and store it in self.__table.</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.is_ready">
<code class="descname">is_ready</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>A IODbPut object is ready if its table exists and contains entries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool if the table is ready</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.set_tables_properties">
<em class="property">static </em><code class="descname">set_tables_properties</code><span class="sig-paren">(</span><em>tables</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.IODbPut.IODbPut.set_tables_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Import the models of the current execution and then associate models with IODbPut objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tables</strong> (<em>ResultSet(IODbPut)</em>) -- the IODbPut which need their table properties to be set.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.tables.Type.Type">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.tables.Type.</code><code class="descname">Type</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.Type.Type" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the model of the table <code class="docutils literal"><span class="pre">wom_type</span></code>. It stores the two kind of entry named &quot;input&quot; and &quot;output&quot; which
are associated with an ID.</p>
<p>Fields:</p>
<ul class="simple">
<li>id: INTEGER - primary key -arbitrary ID</li>
<li>name: VARCHAR(255) - the name of the type (&quot;input&quot; or &quot;output&quot;)</li>
</ul>
</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.SQLManager.</code><code class="descname">SQLManager</code><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager" title="Permalink to this definition">¶</a></dt>
<dd><p>The class SQLManager is responsible of all operations performed on the database.</p>
<p>The SQLManager is a synchronized Singleton which may be accessible from any thread, at any time. This is allowed
by the SingletonMixin superclass and a read/write lock.</p>
<p>Provides a WopMarsSession through the method &quot;get_session&quot;. The session is used to perform calls to the database.
Provides the engine if necessary through &quot;get_engine&quot;.
Allows commiting and rollbacking operations of a given session through methods &quot;commit&quot; and &quot;rollback&quot;.
Allows querying operations from a given query: all, one, first, count, one_or_none, scalar. Through &quot;result_factory&quot;.
Allows executing statements through the &quot;execute&quot; method.
Allows droping and creating tables from table names (&quot;create&quot; and &quot;drop&quot;), list of table models (&quot;drop_table_list&quot;)
and all (&quot;create_all&quot; and &quot;drop_all&quot;).</p>
<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit the current session.</p>
<p>The SQLManager wrap the sqlite queue for commiting operations on database in order to do not trigger the error due
to the time-out operations.</p>
<p>This is done thanks to a read_write_lock: sqlmanager is a synchronized singleton with synchronized methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> -- SQLAlchemy session object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>tablename</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the declarative Base to create a table from its tablename.</p>
<p>The tablename is the name of the base represented in the databse (independent of the Table model)
:param tablename:</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.create_all">
<code class="descname">create_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.create_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the declarative Base to create all tables found.</p>
<p>If you want to create a table, you should be sure that it has been imported first.</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.create_trigger">
<code class="descname">create_trigger</code><span class="sig-paren">(</span><em>table</em>, <em>ddl</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.create_trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Trigger after creating a given table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/core/metadata.html#sqlalchemy.schema.Table">Table</a>) -- </li>
<li><strong>ddl</strong> (<a class="reference external" href="http://docs.sqlalchemy.org/en/latest/core/ddl.html#sqlalchemy.schema.DDL">DDL</a>) -- </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop">
<code class="descname">drop</code><span class="sig-paren">(</span><em>tablename</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the declarative Base to drop a table from its tablename.</p>
<p>The tablename is the name of the base represented in the databse (independent of the Table model)
:param tablename:</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop_all">
<code class="descname">drop_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the declarative Base to drop all tables found. Should only be used for testing purposes.</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop_table_content_list">
<code class="descname">drop_table_content_list</code><span class="sig-paren">(</span><em>list_str_table</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop_table_content_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a list of tables from the list of their tablenames.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_str_table</strong> -- [String] the name of the tables.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop_table_list">
<code class="descname">drop_table_list</code><span class="sig-paren">(</span><em>list_str_table</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.drop_table_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a list of tables from the list of their tablenames.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>list_str_table</strong> -- [String] the name of the tables.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>session</em>, <em>statement</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow to execute a statement object on the given session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>session</strong> -- SQLAlchemy session object.</li>
<li><strong>statement</strong> -- SQLAlchemy statement object.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.get_engine">
<code class="descname">get_engine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.get_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the engine of the current execution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">engine</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.get_session">
<code class="descname">get_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.get_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a WopmarsSession associated with this SQLmanager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">WopMarsSession</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.pandas_read_sql">
<code class="descname">pandas_read_sql</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.pandas_read_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql.html?highlight=sql">pandas.read_sql</a> function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> -- The conventional arguments for the pandas.read_sql function.</li>
<li><strong>kwargs</strong> -- The conventional key arguments for the pandas.read_sql function.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Return DataFrame:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">The dataframe containing the results of the query.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.pandas_to_sql">
<code class="descname">pandas_to_sql</code><span class="sig-paren">(</span><em>df</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.pandas_to_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_sql.html">DataFrame.to_sql</a> function from pandas.DataFrame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>df</strong> (<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html">pandas.DataFrame</a>) -- The DataFrame to insert in database.</li>
<li><strong>args</strong> -- The conventional arguments for the pandas.to_sql function.</li>
<li><strong>kwargs</strong> -- The conventional key arguments for the pandas.to_sql function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.result_factory">
<code class="descname">result_factory</code><span class="sig-paren">(</span><em>query</em>, <em>method</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.result_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the result of the query, using the demanded method.</p>
<dl class="docutils">
<dt>The result_factory wrap the methods for querying database:</dt>
<dd><ul class="first last simple">
<li>all</li>
<li>first</li>
<li>one</li>
<li>one_or_none</li>
<li>scalar</li>
<li>count</li>
</ul>
</dd>
</dl>
<p>This is necessary to use the ReadLock of WopMars instead of the one from SQLite.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>query</strong> -- The query object, ready to be performed.</li>
<li><strong>method</strong> -- String signifying the method which have to be used for querying database</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The result of the query.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.rollback">
<code class="descname">rollback</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.SQLManager.SQLManager.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Rollback the given session.</p>
<p>The SQLManager wrap the sqlite queue for rollbacking operations on database in order to do not trigger the error due
to the time-out operations.</p>
<p>This is done thanks to a read_write_lock: sqlmanager is a synchronized singleton with synchronized methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> -- SQLAlchemy session object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.WopMarsSession.</code><code class="descname">WopMarsSession</code><span class="sig-paren">(</span><em>session</em>, <em>manager</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession" title="Permalink to this definition">¶</a></dt>
<dd><p>The class WopMarsSession is used in order to allow the Toolwrapper Developer to access the database.</p>
<p>This class is a pivot between the Toolwrapper Developer and the SQLManager. Every call to the database has to pass
through the SQLManager but the developer has only access to the session.</p>
<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an item to the current session. To write the change on the database, don't forget to commit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> -- a mapper object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.add_all">
<code class="descname">add_all</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.add_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a collection of items to the current session. To write the change on the database, don't forget to commit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>collection</strong> -- collection of mappers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the current session. Shouldn't be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate changes on the database. Should be used when everything is ok.</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>entry</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an entry from the database. To write the change on the database, don't forget to commit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>entry</strong> -- A mapper object already existent in the database.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.delete_content">
<code class="descname">delete_content</code><span class="sig-paren">(</span><em>table</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.delete_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the content of a given table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>table</strong> -- A mapper object representing the table in which the content should be deleted.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>statement</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a statement of the given values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>statement</strong> -- SQLAlchemy statement (insert, delete, etc..)</li>
<li><strong>args</strong> -- dict of values</li>
<li><strong>kwargs</strong> -- exploded dict of values</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">return the result of the execution of the statement</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.get_or_create">
<code class="descname">get_or_create</code><span class="sig-paren">(</span><em>model</em>, <em>defaults=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.get_or_create" title="Permalink to this definition">¶</a></dt>
<dd><p>This method allows to check if an entry exist in database and if not, create it. It also return a boolean
which says if the entry has been created (True) or not (False)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> -- A SQLAlchemy model</li>
<li><strong>defaults</strong> -- Dict containing the default parameter to use in fields if the entry doesn't exist.</li>
<li><strong>kwargs</strong> -- Specify the values of the fields which are looked for. Create them if not.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple: (instance of the created entry, boolean)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.pandas_read_sql">
<code class="descname">pandas_read_sql</code><span class="sig-paren">(</span><em>sql</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.pandas_read_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface for using the read_sql method from pandas dataframes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sql</strong> (<em>str</em>) -- the sql query to perform on the database</li>
<li><strong>args</strong> -- args of the conventionnal pandas.read_sql method</li>
<li><strong>kwargs</strong> -- kwargs of the conventionnal pandas.read_sql method</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Pandas dataframe contianing the result</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.pandas_to_sql">
<code class="descname">pandas_to_sql</code><span class="sig-paren">(</span><em>df</em>, <em>tablename</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.pandas_to_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Interface for using the to_sql method from pandas dataframes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>df</strong> (<em>DataFrame</em>) -- pandas dataframe</li>
<li><strong>tablename</strong> (<em>str</em>) -- the name of the table on which you want to perform operations</li>
<li><strong>args</strong> -- args of the conventionnal pandas.to_sql method</li>
<li><strong>kwargs</strong> -- kwargs of the conventionnal pandas.to_sql method</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.query">
<code class="descname">query</code><span class="sig-paren">(</span><em>table</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a WopMarsQuery used for querying database using the ORM.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>table</strong> -- The mapper object on which you want to query.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">WopMarsQuery on the desired table and bind to the current session.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.rollback">
<code class="descname">rollback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Rollback changes on the database. Should be used in case of error.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.something">
<code class="descname">something</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsSession.WopMarsSession.something" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if there is something in the session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Bool saying if there is something in the session.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.WopMarsQuery.WopMarsQuery">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.WopMarsQuery.</code><code class="descname">WopMarsQuery</code><span class="sig-paren">(</span><em>entities</em>, <em>session=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.WopMarsQuery.WopMarsQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>This class extend the Query class from sqlalchemy.orm in purpose to use the lock provided by the SQLManager in order
to query the database.</p>
<dl class="docutils">
<dt>It overide all methods relatives to finish a query:</dt>
<dd><ul class="first last simple">
<li>all</li>
<li>one</li>
<li>first</li>
<li>count</li>
<li>one_or_none</li>
<li>scalar</li>
</ul>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.bdd.tables.Option.Option">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.bdd.tables.Option.</code><code class="descname">Option</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.Option.Option" title="Permalink to this definition">¶</a></dt>
<dd><p>The Option class handle a key and a value and is able to say if it is properly formated. It is also the model of the
table <code class="docutils literal"><span class="pre">wom_option</span></code> which contains the following fields:</p>
<ul class="simple">
<li>id: INTEGER - primary key - auto increment</li>
<li>name: VARCHAR(255) - the name of the referenced option</li>
<li>value: VRACHAR(255) - the value of the option</li>
<li>rule_id: INTEGER - the ID of the associated rule</li>
</ul>
<dl class="method">
<dt id="wopmars.main.tagc.framework.bdd.tables.Option.Option.correspond">
<code class="descname">correspond</code><span class="sig-paren">(</span><em>carac</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.bdd.tables.Option.Option.correspond" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the option value correspond to the type given by the tool wrapper. Throws a WopMarsException if
not.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">WopMarsException</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>carac</strong> -- String containing the carac of the option in the format: &quot;carac1|carac2|carc3&quot;</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.management.DAG.DAG">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.management.DAG.</code><code class="descname">DAG</code><span class="sig-paren">(</span><em>set_tools=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.DAG.DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>This class inherits from networkx.DiGraph class and is able to represent a DAG of tool nodes. It takes a set of
<code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code> and analyse it to extract dependencies between them.</p>
<dl class="method">
<dt id="wopmars.main.tagc.framework.management.DAG.DAG.get_all_predecessors">
<code class="descname">get_all_predecessors</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.DAG.DAG.get_all_predecessors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of all predecessors nodes from a given node in the DAG (node included).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>) -- a node of the DAG or None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set(node): all the predecessors of a given node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.DAG.DAG.get_all_successors">
<code class="descname">get_all_successors</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.DAG.DAG.get_all_successors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of all successors nodes from a given node in the DAG (node included).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>) -- a node of the DAG or None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">set(node): all the successors of a given node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.DAG.DAG.successors">
<code class="descname">successors</code><span class="sig-paren">(</span><em>node</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.DAG.DAG.successors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the successors of a node.</p>
<p>The method is overwhelmed because if a node is None, then, the root nodes are returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>) -- a node of the DAG or None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">[node]:  the successors of the given node or the node at the root of the DAG.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.DAG.DAG.write_dot">
<code class="descname">write_dot</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.DAG.DAG.write_dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the dot file.</p>
<p>The .ps can be built from the dot file with the command line: &quot;dot -Tps {filename}.dot - o {filename}.ps&quot;</p>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.management.WorkflowManager.</code><code class="descname">WorkflowManager</code><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager" title="Permalink to this definition">¶</a></dt>
<dd><p>The WorkflowManager class manage all the workflow execution.</p>
<p>WorkflowManager will ask the parser to build the DAG then execute it. The execution of the DAG is done as following:</p>
<p>1- The workflow manager take the &quot;tool_dag&quot; with all the rules of the workflow and build the &quot;dag_to_exec&quot; which
will be actually executed according to the &quot;target rule&quot; and &quot;source rule&quot; options.
2- The method <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from"><code class="xref py py-meth docutils literal"><span class="pre">execute_from()</span></code></a> is call without argument, meaning that the execution begin at the top of the dag
(the root of the tree).
3- The nodes are gathered thanks to the <a class="reference internal" href="#wopmars.main.tagc.framework.management.DAG.DAG.successors" title="wopmars.main.tagc.framework.management.DAG.DAG.successors"><code class="xref py py-meth docutils literal"><span class="pre">successors()</span></code></a> method of the <a class="reference internal" href="#wopmars.main.tagc.framework.management.DAG.DAG" title="wopmars.main.tagc.framework.management.DAG.DAG"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.management.DAG.DAG</span></code></a>
4- Each node is wrapped inside a <a class="reference internal" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread" title="wopmars.main.tagc.framework.management.ToolThread.ToolThread"><code class="xref py py-class docutils literal"><span class="pre">ToolThread</span></code></a> object which will be added to the queue.
5- Each ToolThread is executed (ordered) as follows:</p>
<blockquote>
<div>a- If the inputs are ready: they are executed.
b- If not, they are put in the buffer.</div></blockquote>
<p>6- When the <a class="reference internal" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread" title="wopmars.main.tagc.framework.management.ToolThread.ToolThread"><code class="xref py py-class docutils literal"><span class="pre">ToolThread</span></code></a> has finished its execution, a notification of success is sent.
7- The method <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from"><code class="xref py py-meth docutils literal"><span class="pre">execute_from()</span></code></a> is called again with the succeeded ToolWrapper as argument.
8- Loop to the 3rd step
9- When the DAG is finished, the software exits</p>
<p>Every exception or error are raised to the top level of the software through WopMarsException with
a String explaining the context and details about the exception.</p>
<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.all_predecessors_have_run">
<code class="descname">all_predecessors_have_run</code><span class="sig-paren">(</span><em>tw</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.all_predecessors_have_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all the predecessors of the given toolwrapper have yet been executed in this workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tw</strong> (<code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code>) -- Node of the DAG</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.check_buffer">
<code class="descname">check_buffer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.check_buffer" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the buffer contains ToolWrapper that are ready.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool: True if there is at least one toolwrapper that is READY in the buffer.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.erase_output">
<code class="descname">erase_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.erase_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase the outputs of the DAG that will be executed in order to prevents conflicts.</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from">
<code class="descname">execute_from</code><span class="sig-paren">(</span><em>tw=None</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the dag from the toolwrappers in the list given.</p>
<p>The next nodes are taken thanks to the &quot;successors()&quot; method of the DAG and are put into the queue.
The &quot;run_queue()&quot; is then called.</p>
<p>A trace of the already_runned ToolWrapper objects is kept in order to avoid duplicate execution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper" title="wopmars.main.tagc.framework.bdd.tables.ToolWrapper.ToolWrapper"><code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code></a>) -- A node of the DAG or None, if it needs to be executed from the root.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.get_dag_to_exec">
<code class="descname">get_dag_to_exec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.get_dag_to_exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dag to exec in terms of --sourcerule option and --targetrule option.</p>
<p>The source rule is checked first (there should not be both set because of the checks at the begining of the software)</p>
<p>If sourcerule is set, then it is its successors that are searched in the whole dag.
Else, it is its predecessors.</p>
<p>The set of obtained rules are used to build the &quot;dag_to_exec&quot;. The nodes returned by get_all_successors and
get_all_predecessors are implicitly all related.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.is_this_tool_already_done">
<em class="property">static </em><code class="descname">is_this_tool_already_done</code><span class="sig-paren">(</span><em>tw</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.is_this_tool_already_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if conditions for saying &quot;The output of this ToolWrapper are already available&quot; are filled.</p>
<dl class="docutils">
<dt>The conditions are:</dt>
<dd><ul class="first last simple">
<li>The ToolWrapper exist in bdd (named = tw_old)</li>
<li>The tw_old param are the same than the same which is about to start</li>
<li>the tw_old inputs are the same</li>
<li>the tw_old outputs exists with the same name and are more recent than inputs</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tw</strong> (<code class="xref py py-class docutils literal"><span class="pre">ToolWrapper</span></code>) -- The Toolwrapper to test</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.notify_failure">
<code class="descname">notify_failure</code><span class="sig-paren">(</span><em>thread_toolwrapper</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.notify_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle thread_toolwrapper failure by re-puting it in the queue.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>thread_toolwrapper</strong> -- ToolWrapper thread that just failed</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.notify_success">
<code class="descname">notify_success</code><span class="sig-paren">(</span><em>thread_toolwrapper</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.notify_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle thread_toolwrapper success by continuing the dag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>thread_toolwrapper</strong> (<code class="xref py py-class docutils literal"><span class="pre">ToolThread</span></code>) -- ToolWrapper thread that just succeed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dag then execute it.</p>
<p>The database is setUp here if workflow side tables have not been created yet.</p>
<p>The dag is taken thanks to the <a class="reference internal" href="#wopmars.main.tagc.framework.parsing.Parser.Parser.parse" title="wopmars.main.tagc.framework.parsing.Parser.Parser.parse"><code class="xref py py-meth docutils literal"><span class="pre">parse()</span></code></a> method of the parser. And then pruned by the <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.get_dag_to_exec" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.get_dag_to_exec"><code class="xref py py-meth docutils literal"><span class="pre">get_dag_to_exec()</span></code></a> method
which will set the right DAG to be executed.
Then, <a class="reference internal" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from" title="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.execute_from"><code class="xref py py-meth docutils literal"><span class="pre">execute_from()</span></code></a> is called with no argument to get the origin nodes.</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.run_queue">
<code class="descname">run_queue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.run_queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Call start() method of all elements of the queue.</p>
<p>The tools inside the queue are taken then their inputs are checked. If they are ready, the tools are started.
If not, they are put in a buffer list of &quot;not ready tools&quot; or &quot;ready but has not necessary ressources available
tools&quot;.</p>
<p>The start method is called with a dry argument, if it appears that the input of the ToolWrapper are the same
than in a previous execution, and that the output are already ready. The dry parameter is set to True and the
start method will only simulate the execution.</p>
<p>After that, the code check for the state of the workflow and gather the informations to see if the workflow
is finished, if it encounter an error or if it is currently running.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- The workflow encounter a problem and must stop.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.set_finishing_informations">
<code class="descname">set_finishing_informations</code><span class="sig-paren">(</span><em>finished_at</em>, <em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.WorkflowManager.WorkflowManager.set_finishing_informations" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the finsihing information of the whole workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>finished_at</strong> (<em>datetime.datetime</em>) -- The finishing date of the workflow</li>
<li><strong>status</strong> (<em>str</em>) -- The final status of the workflow</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.management.ToolThread.ToolThread">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.management.ToolThread.</code><code class="descname">ToolThread</code><span class="sig-paren">(</span><em>toolwrapper</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread" title="Permalink to this definition">¶</a></dt>
<dd><p>class ToolThread</p>
<dl class="method">
<dt id="wopmars.main.tagc.framework.management.ToolThread.ToolThread.fire_failure">
<code class="descname">fire_failure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread.fire_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify all ToolWrapperObservers that the execution has failed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.ToolThread.ToolThread.fire_success">
<code class="descname">fire_success</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread.fire_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify all ToolWrapperObservers that the run has suceeded</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.ToolThread.ToolThread.get_observers">
<code class="descname">get_observers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread.get_observers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the set of observers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">set observers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.ToolThread.ToolThread.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the tool and fire events.
:return:</p>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.management.ToolThread.ToolThread.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>obs</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.management.ToolThread.ToolThread.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>An observer subscribes to the obervable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obs</strong> -- </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.parsing.Parser.Parser">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.parsing.Parser.</code><code class="descname">Parser</code><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Parser.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>The Parser is used to organize the parsing of the Workflow Definition File.</p>
<p>The aim of the Parser is to send the DAG representing the execution graph.</p>
<dl class="staticmethod">
<dt id="wopmars.main.tagc.framework.parsing.Parser.Parser.get_set_toolwrappers">
<em class="property">static </em><code class="descname">get_set_toolwrappers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Parser.Parser.get_set_toolwrappers" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the bdd for toolwrappers of the current execution.</p>
<p>The current execution is defined as the one with the highest id (it is auto_incrementing)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Set([ToolWrapper]) the set of toolwrappers of the current execution.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.parsing.Parser.Parser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Parser.Parser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Organize the parsing of the Workflow Definition File or the Tool if only one tool is provided thanks to the
tool command.</p>
<p>Call the &quot;read()&quot; or the &quot;load_one_toolwrapper&quot; (depending on the use or not of tool command) method of the
reader to insert in database the set of objects of the workflow.</p>
<p>Then, the toolwrappers of the last execution are got back before calling the dag to build itself from the set of tools.</p>
<p>The DAG is checked to actually being a Directed Acyclic Graph.</p>
<p>If The &quot;--dot&quot; option is set, the dot and ps file are wrote here.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raise:</th><td class="field-body">WopMarsParsingException if the workflow is not a DAG.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the DAG</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.framework.parsing.Reader.</code><code class="descname">Reader</code><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is responsible of the parsing of the user's entries:</p>
<blockquote>
<div><ul class="simple">
<li>the arguments given with the <code class="docutils literal"><span class="pre">tool</span></code> command</li>
<li>the content of the workflow definition file, in normal mode</li>
</ul>
</div></blockquote>
<p>This module uses the <code class="docutils literal"><span class="pre">yaml</span></code> library in order to parse the workflow definition file. Some additional rules have been
added to the <code class="docutils literal"><span class="pre">yaml</span></code> library in order to prevent duplicate rules.</p>
<p>Also, once the <code class="docutils literal"><span class="pre">Reader</span></code> has gotten the workflow definition informations, it'll check for eventual errors and then
store them in the database. Those stored informations are what we call the &quot;history&quot; of <strong>WoPMaRS</strong>.</p>
<dl class="method">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader.load_definition_file">
<code class="descname">load_definition_file</code><span class="sig-paren">(</span><em>s_definition_file</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.load_definition_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the definition file and load it's content in a dictionnary thanks to the <code class="docutils literal"><span class="pre">yaml</span></code> library. <code class="docutils literal"><span class="pre">yaml</span></code> can
raise an exception if the yaml specifications are not respected or if there is duplicates at the same level of
hierarchy in the definition file. If so, the exception is caught then wrapped into a <code class="docutils literal"><span class="pre">WopMarsException</span></code>.</p>
<p>The check of the grammar of the definition file is done during this step but no tests are performed regarding
to the actual content of the definition file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s_definition_file</strong> (<em>str</em>) -- Path to the definition file</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- The yaml specifications are not respected</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader.check_duplicate_rules">
<em class="property">static </em><code class="descname">check_duplicate_rules</code><span class="sig-paren">(</span><em>s_workflow_file</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.check_duplicate_rules" title="Permalink to this definition">¶</a></dt>
<dd><p>This method raises an exception if the workflow definition file contains duplicate rule names.</p>
<p>The workflow definition file should contain rules with different name. It is therefore recommended to not
call rules with tool names but functionality instead. Example:</p>
<blockquote>
<div><div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">rule get_snp</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">tool</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">SNPGetter</span>
    <span class="l l-Scalar l-Scalar-Plain">input</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">file</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">etc..</span>
        <span class="l l-Scalar l-Scalar-Plain">table</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">etc..</span>
    <span class="l l-Scalar l-Scalar-Plain">output</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">file</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">etc..</span>
        <span class="l l-Scalar l-Scalar-Plain">table</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">etc..</span>
    <span class="l l-Scalar l-Scalar-Plain">params</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">etc..</span>
</pre></div>
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s_workflow_file</strong> (<em>str</em>) -- The content of the definition file</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- There is a duplicate rule name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader.is_grammar_respected">
<code class="descname">is_grammar_respected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.is_grammar_respected" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the definition file respects the grammar. Throw a WopMarsException exception if not.</p>
<p>The formal representation of the grammar is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>WoPMaRS       = rule
identifier    = String
ni            = NEWLINE INDENT
rule          = &quot;rule&quot; identifier &quot;:&quot; ruleparams
ruleparams    = [ni tool] [ni input] [ni output] [ni params]
filesortables = (ni files|ni tables){0-2}
files         = &quot;file&quot;  &quot;:&quot; (ni identifier ”:” stringliteral)+
tables        = &quot;table&quot;  &quot;:&quot; (ni identifier ”:” stringliteral)+
tool          = &quot;tool&quot;   &quot;:&quot; stringliteral
input         = &quot;input&quot;  &quot;:&quot; ni filesortables
output        = &quot;output&quot; &quot;:&quot; ni filesortables
params        = &quot;params&quot; &quot;:&quot; (ni identifier ”:” stringliteral)+
(NEWLINE WoPMaRS)+
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>WopMarsException</strong> -- The grammar is not respected</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader.load_one_toolwrapper">
<code class="descname">load_one_toolwrapper</code><span class="sig-paren">(</span><em>s_toolwrapper</em>, <em>s_dict_inputs</em>, <em>s_dict_outputs</em>, <em>s_dict_params</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.load_one_toolwrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Method called when the <code class="docutils literal"><span class="pre">tool</span></code> command is used. It is equivalent to the <a class="reference internal" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.read" title="wopmars.main.tagc.framework.parsing.Reader.Reader.read"><code class="xref py py-meth docutils literal"><span class="pre">read()</span></code></a> method but create a workflow
with only one toolwrapper. The workflow is also stored inside the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>s_toolwrapper</strong> (<em>str</em>) -- The name of the toolwrapper (will be imported)</li>
<li><strong>s_dict_inputs</strong> (<em>str</em>) -- A string containing the dict of input files</li>
<li><strong>s_dict_outputs</strong> (<em>str</em>) -- A string containing the dict of output files</li>
<li><strong>s_dict_params</strong> (<em>str</em>) -- A string containing the dict of params</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><strong>WopMarsException</strong> -- There is an error while accessing the database</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>s_definition_file</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the file given and insert the rules of the workflow in the database.</p>
<p>The definition file is supposed to be properly formed. The validation of the content of the definition is done
during the instanciation of the tools.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Param:</th><td class="field-body">s_definition_file: String containing the path to the definition file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">WopmarsException: The content is not validated</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wopmars.main.tagc.framework.parsing.Reader.Reader.create_toolwrapper_entry">
<code class="descname">create_toolwrapper_entry</code><span class="sig-paren">(</span><em>str_rule_name</em>, <em>str_wrapper_name</em>, <em>dict_dict_dict_elm</em>, <em>input_entry</em>, <em>output_entry</em><span class="sig-paren">)</span><a class="headerlink" href="#wopmars.main.tagc.framework.parsing.Reader.Reader.create_toolwrapper_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Actual creating of the Toolwrapper object.</p>
<p>The toolwrapper object is an entry of the table rule in the resulting database.</p>
<p>If the scoped_session has current modification, they probably will be commited during this method:
tables are created and this can only be done with clean session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str_rule_name</strong> (<em>str</em>) -- Contains the name of the rule in which the toolwrapper will be used.</li>
<li><strong>str_wrapper_name</strong> (<em>str</em>) -- Contains the name of the toolwrapper. It will be used for importing the correct module and then for creating the class</li>
<li><strong>dict_dict_dict_elm</strong> (<em>dict(dict(dict()))</em>) -- &quot;input&quot;s &quot;output&quot;s and &quot;params&quot; and will be used to make relations between options / input / output and the toolwrapper.</li>
<li><strong>input_entry</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Type.Type" title="wopmars.main.tagc.framework.bdd.tables.Type.Type"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.Type.Type</span></code></a>) -- input entry</li>
<li><strong>output_entry</strong> (<a class="reference internal" href="#wopmars.main.tagc.framework.bdd.tables.Type.Type" title="wopmars.main.tagc.framework.bdd.tables.Type.Type"><code class="xref py py-class docutils literal"><span class="pre">wopmars.main.tagc.framework.bdd.tables.Type.Type</span></code></a>) -- output entry</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">TooLWrapper instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<hr class="docutils" />
<dl class="class">
<dt id="wopmars.main.tagc.utils.Singleton.SingletonMixin">
<em class="property">class </em><code class="descclassname">wopmars.main.tagc.utils.Singleton.</code><code class="descname">SingletonMixin</code><a class="headerlink" href="#wopmars.main.tagc.utils.Singleton.SingletonMixin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Software Documentation</a><ul>
<li><a class="reference internal" href="#setting-up-wopmars-development-environment">Setting up WoPMaRS development environment</a></li>
<li><a class="reference internal" href="#contributing-to-wopmars-documentation">Contributing to WoPMaRS documentation</a></li>
<li><a class="reference internal" href="#sub-packages-descriptions">Sub-packages descriptions</a><ul>
<li><a class="reference internal" href="#bin">bin</a></li>
<li><a class="reference internal" href="#docs">docs</a></li>
<li><a class="reference internal" href="#wopmars">wopmars</a><ul>
<li><a class="reference internal" href="#wopmars-tagc-example">wopmars.tagc.example</a></li>
<li><a class="reference internal" href="#wopmars-tagc-framework">wopmars.tagc.framework</a><ul>
<li><a class="reference internal" href="#wopmars-tagc-framework-bdd">wopmars.tagc.framework.bdd</a></li>
<li><a class="reference internal" href="#wopmars-tagc-framework-management">wopmars.tagc.framework.management</a></li>
<li><a class="reference internal" href="#wopmars-tagc-framework-parsing">wopmars.tagc.framework.parsing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#the-history-of-wopmars-executions">The history of WoPMaRS executions</a></li>
<li><a class="reference internal" href="#building-the-execution-dag">Building the execution DAG</a></li>
<li><a class="reference internal" href="#executing-the-dag">Executing the DAG</a></li>
<li><a class="reference internal" href="#managing-the-database">Managing the DataBase</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="dev_wrapper.html" title="previous chapter">ToolWrapper development</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Luc Giffon, Aitor Gonzalez, Lionel Spinelli.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
    </div>

    

    
  </body>
</html>